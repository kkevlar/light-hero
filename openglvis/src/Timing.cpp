
#include "Timing.h"

TimingReader::TimingReader() {
  int i;

  for (i = 0; i < KEY_COUNT; i++) {
    inputkeys[i] = false;
  }
}

int TimingReader::getReleases() 
{
    return releases;
}

void TimingReader::setReleases(int r)
{
    releases = r;
}

void SimpleTimingReader::handleKeyCallback(long millis_elapsed, int key, int action) {
  // pass
}

int times[] = {
    5529,   5679,   5862,   5979,   6663,   6762,   7212,   7312,   7646,
    7829,   8246,   8396,   8829,   8996,   9396,   9612,   10146,  14129,
    14663,  14779,  15496,  15630,  16146,  16363,  16680,  16796,  17046,
    17346,  17596,  17796,  18180,  18396,  18763,  19313,  19480,  20497,
    21147,  21663,  21847,  22263,  22430,  22780,  23197,  23197,  23463,
    23613,  24030,  24530,  24680,  25113,  25630,  25830,  26364,  26680,
    27097,  27214,  27380,  27480,  27647,  27880,  28197,  28497,  28830,
    29214,  29614,  29764,  30197,  30330,  31297,  31530,  32164,  32464,
    32881,  33164,  33464,  33964,  34047,  34214,  34364,  34697,  34964,
    35281,  36064,  36464,  37031,  37631,  38081,  38114,  38281,  38814,
    39014,  39348,  39914,  40231,  40864,  41031,  41564,  41948,  42281,
    42764,  42881,  43531,  43931,  43931,  44014,  44548,  44631,  45299,
    45299,  45748,  46398,  47431,  47548,  48031,  48448,  48748,  49248,
    49565,  50148,  50415,  50982,  51282,  52232,  52715,  53098,  53448,
    53915,  54215,  54882,  55248,  55648,  56298,  56982,  57299,  57765,
    58049,  58732,  59249,  59532,  59682,  59849,  60016,  60266,  60415,
    60815,  61088,  61615,  61616,  62249,  62266,  62382,  62432,  63616,
    63632,  64066,  64632,  65249,  65666,  65999,  66016,  66032,  66066,
    66199,  66916,  67066,  67699,  68232,  68616,  68983,  69016,  69116,
    69449,  69650,  69699,  69766,  69916,  70066,  70316,  70366,  70549,
    70783,  70783,  71199,  72433,  73000,  73233,  73766,  74466,  74616,
    74933,  75200,  75500,  75933,  76300,  76800,  77550,  77633,  77816,
    78000,  78166,  78250,  78433,  79166,  79316,  79817,  80183,  80500,
    80517,  81200,  81200,  81900,  81917,  81917,  81917,  82900,  82917,
    83450,  83500,  83633,  83667,  83667,  83667,  83783,  83783,  84200,
    84250,  84400,  84417,  85167,  85167,  85817,  85934,  86350,  86417,
    86517,  86750,  86817,  87117,  87200,  87350,  87384,  87517,  87850,
    88117,  88167,  88467,  88484,  88650,  88750,  88751,  89984,  90817,
    91684,  92517,  92601,  92651,  93201,  93217,  93217,  93234,  93468,
    94417,  95134,  96234,  96801,  96901,  96918,  97017,  97534,  98051,
    98651,  99334,  99401,  99468,  99801,  100351, 100651, 101134, 101318,
    101668, 101901, 102184, 102284, 102551, 102819, 103318, 103351, 103918,
    104235, 104351, 104484, 105651, 106451, 106468, 106785, 107468, 107985,
    108768, 109035, 109068, 109102, 109102, 109201, 109735, 110018, 110368,
    110668, 111035, 111235, 111524, 111735, 111735, 112185, 112668, 112785,
    113235, 113352, 113718, 113935, 114052, 114518, 114919, 115085, 115769,
    116335, 116535, 116835, 117253, 117502, 117752, 118569, 119252, 119535,
    119869, 120169, 120419, 120719, 121052, 121636, 122119, 122519, 122602,
    122602, 122619, 122752, 123169, 123352, 123769, 123986, 124186, 124486,
    125702, 125752, 126286, 126569, 126736, 126853, 127536, 128036, 128569,
    128853, 129136, 129553, 129686, 130053, 130420, 130719, 131053, 131269,
    131386, 131619, 131769, 132219, 132386, 132736, 132770, 132937, 133370,
    133386, 133836, 133837, 134020, 134036, 134203, 134220, 134420, 134420,
    134853, 135086, 135236, 135286, 135520, 135770, 135787, 135803, 136003,
    136036, 136186, 137453, 138103, 138370, 138686, 139003, 139170, 140087,
    140387, 140903, 141053, 141570, 141770, 142137, 142470, 142954, 143137,
    143837, 144070, 144737, 144937, 145637, 145970, 146370, 146520, 146854,
    147087, 147804, 147970, 148604, 148854, 149537, 149754, 150388, 150670,
    151637, 151921, 152421, 152704, 153221, 153437, 154171, 154371, 155004,
    155371, 156287, 157021, 157404, 158304, 158671, 159271, 159871, 160888,
    161038, 161805, 162138, 162388, 162738, 163638, 163721, 164488, 165288,
    165355, 165721, 166255, 166571, 166938, 167338, 167921, 168422, 168988,
    169289, 169605, 169838, 170255, 170455, 170488, 171055, 171088, 171272,
    171288, 171622, 171655, 172022, 172039, 172722, 172772, 173205, 173672,
    173839, 174205, 174889, 174905, 175105, 175122, 175439, 175522, 175672,
    175689, 176522, 176555, 177289, 177772, 178039, 178556, 178722, 178872,
    179039, 179455, 179822, 179889, 179956, 180089, 180439, 181405, 183356,
    183356, 183372, 183372, 183539, 183539, 183606, 183606, 183740, 183756,
    183756, 183756, 183956, 183956, 183989, 183989, 184206, 184206, 184222,
    184222, 184639, 184656, 184839, 184856, 185573, 186773, 187989, 187989,
    188006, 188006, 188223, 188223, 188273, 188273, 188456, 188456, 188456,
    188456, 188689, 188689, 188723, 188739, 189023, 189039, 189039, 189039,
    189756, 189773, 189823, 189840, 190489, 190806, 191056, 191273, 191623,
    191640, 191673, 191689, 191973, 192406, 192506, 192823, 193023, 193723,
    193723, 193756, 194006, 194023, 194423, 194456, 194890, 194890, 195206,
    195340, 196156, 196190, 196206, 196440, 196773, 197140, 197273, 197740,
    198273, 199123, 199673, 199707, 202123, 202407, 203324, 203340, 204374,
    204390, 204407, 204407, 205640, 205674, 206274, 206324, 206824, 207240,
    207874, 208041, 209074, 209090, 209107, 209124, 209191, 209924, 210357,
    210907, 211524, 211524, 212157, 212191, 212207, 212241, 212707, 213241,
    213541, 213908, 214224, 214708, 214791, 215158, 215191, 215191, 215558,
    215558, 215575, 215708, 215708, 215724, 216008, 216008, 216024, 216124,
    216274, 216824, 216874, 217458, 217541, 217541, 217708, 217724, 217774,
    217991, 218008, 218024, 218158, 218158, 218558, 218558, 219241, 219241,
    219274, 219491, 219708, 219741, 220258, 220325, 220692, 220741, 220774,
    220791, 220908, 220941, 221491, 221525, 222141, 222658, 222958, 223125,
    223541, 223658, 223941, 224442, 224458, 224458, 224808, 224808, 225108,
    225108, 225608, 226258, 226758, 226775, 227376, 227376, 227408, 227408,
    227908, 227925, 227975, 228025, 228792, 229209, 229825, 230342, 231042,
    231075, 231092, 231158, 231459, 231475, 232392, 232509, 233009, 233309,
    233575, 233809, 233909, 233909, 233925, 233942, 234292, 234492, 235025,
    235026, 235625, 235642, 236025, 236075, 236242, 236809, 237409, 237425,
    238576, 238626, 238709, 239176, 239242, 239759, 239776, 239826, 240309,
    240392, 241009, 241492, 241809, 242276, 242459, 242992, 243376, 243926,
    244509, 244526, 245343, 245392, 245693, 248009, 248659, 248893, 248926,
    249226, 250043, 250526, 250560, 250993, 251060, 251593, 251676, 252126,
    252276, 252743, 252793, 253743, 253843, 253910, 254328, 254710, 254760,
    254826, 255226, 258693, 259160, 259977, 260527, 260560, 261027, 261027,
    261610, 261894, 261927, 262260, 262577, 262827, 263360, 263810, 264527,
    265127, 268461, 268710, 269144, 269661, 269910, 270011, 270444, 270962,
    271077, 271644, 271711, 272211, 272628, 272744, 272761, 273078, 273344,
    273444, 273677, 273828, 278661, 279311, 279378, 280361, 280645, 280961,
    281495, 281761, 282228, 282345, 282528, 283278, 283361, 284045, 285595,
    286078, 286328, 286412, 286678, 286878, 287212, 287595, 287978, 288428,
    288630, 289195, 289495, 289628, 290095, 290412, 290429, 290595, 290979,
    291629, 292146, 292412, 292495, 292512, 292845, 293262, 293612, 293895,
    294212, 294462, 294762, 294962, 295062, 295445, 295696, 296212, 296329,
    296512, 296646, 297512, 297529, 298329, 298546, 298812, 298812, 298879,
    298879, 298946, 299396, 299412, 299762, 299779, 300362, 300929, 301329,
    301396, 301896, 302279, 302996, 303479, 304279, 304313, 304529, 304896,
    305296, 305996, 306563, 307196, 307229, 307446, 308263, 308296, 308880,
    308896, 309180, 309196, 309214, 309214, 309730, 309746, 309780, 309796,
    310346, 310363, 310363, 310396, 310830, 310846, 311396, 311463, 311480,
    312130, 312296, 312396, 312413, 313030, 313397, 313580, 313830, 313913,
    314263, 314480, 315080, 315413, 315630, 315647, 315663, 315763, 315797,
    315963, 316280, 316313, 317097, 317130, 317263, 317297, 317630, 317913,
    318330, 318330, 318647, 319280, 319613, 319814, 319814, 320130, 320397,
    320714, 320947, 321731, 322264, 322297, 322997, 323030, 323964, 323980,
    323997, 323997, 325630, 325631, 326131, 326147, 326464, 326464, 326681,
    326697, 327164, 327164, 327397, 327414, 327764, 327764, 328081, 328097,
    328097, 328097, 328281, 328281, 328647, 328648, 329164, 329181, 329247,
    329714, 329881, 330314, 330447, 331031, 331531, 331531, 332248, 332298,
    332331, 332331, 332681, 332698, 333281, 333314, 333714, 333748, 333914,
    333914, 335048, 335048, 335615, 335615, 335914, 335914, 336231, 336231,
    336565, 336565, 336798, 336814, 337015, 337031, 337331, 337364, 337448,
    337465, 337699, 337699, 338131, 338132, 338331, 338381, 338565, 338581,
    338881, 338998, 339148, 339148, 339465, 339465, 339731, 339748, 339998,
    340165, 340348, 340365, 340765, 340782, 340915, 340931, 341498, 341515,
    342165, 342182, 342431, 342482, 342682, 342682, 342965, 343015, 343248,
    343265, 343681, 343748, 344448, 344448, 344998, 345098, 345298, 345348,
    345565, 345632, 345932, 345965, 346149, 346198, 346482, 346515, 346649,
    346665, 346832, 346832, 346982, 347015, 347398, 347415, 347615, 347632,
    348065, 348132, 348149, 348248, 348299, 348315, 348599, 348615, 348965,
    348965, 349182, 349199, 349449, 349449, 349832, 349832, 349982, 349999,
    350382, 350382, 350932, 350999, 351682, 351682, 351882, 351965, 352165,
    352165, 352565, 352566, 352732, 352750, 353149, 353199, 353916, 353932,
    354465, 354515, 354716, 354749, 354966, 355049, 355366, 355399, 355616,
    355632, 355949, 355966, 356066, 356099, 356266, 356266, 356449, 356466,
    356866, 356882, 357032, 357099, 357416, 357432, 357582, 357582, 357999,
    357999, 358132, 358149, 358583, 358599, 358732, 358782, 359216, 359216,
    359349, 359399, 359782, 359783, 359949, 360032, 360899, 361466, 361699,
    361899, 362116, 362449, 362799, 363183, 363200, 363366, 363433, 363833,
    363849, 364166, 364472, 364699};
int keynums[] = {
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3,
    3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 2,
    2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    1, 2, 1, 2, 0, 0, 2, 2, 0, 0, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 0, 0, 3,
    1, 2, 1, 2, 0, 1, 2, 3, 2, 3, 1, 0, 3, 3, 3, 2, 1, 0, 1, 0, 0, 1, 0, 1, 0,
    0, 0, 0, 1, 1, 2, 3, 3, 2, 2, 3, 2, 2, 0, 0, 1, 1, 2, 2, 2, 0, 2, 1, 0, 1,
    2, 2, 2, 2, 2, 2, 0, 3, 2, 1, 3, 0, 1, 2, 1, 2, 0, 3, 0, 2, 3, 1, 1, 2, 2,
    1, 0, 3, 2, 1, 1, 1, 1, 2, 2, 2, 1, 2, 1, 1, 2, 1, 2, 1, 2, 2, 1, 2, 0, 3,
    3, 2, 1, 1, 1, 0, 1, 3, 0, 2, 0, 1, 2, 3, 3, 1, 0, 2, 2, 3, 0, 3, 0, 2, 1,
    1, 1, 1, 1, 1, 1, 3, 1, 3, 3, 3, 0, 2, 2, 0, 0, 1, 1, 0, 2, 3, 1, 0, 1, 0,
    2, 3, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 2, 2, 3, 3, 3, 3, 2,
    2, 1, 1, 2, 2, 0, 0, 0, 0, 0, 0, 0, 3, 2, 1, 1, 2, 3, 0, 3, 3, 2, 2, 3, 3,
    3, 2, 3, 3, 3, 2, 3, 3, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 0, 2, 2, 2, 2, 0,
    3, 1, 1, 0, 0, 1, 1, 0, 0, 1, 0, 1, 2, 3, 2, 0, 1, 0, 1, 2, 2, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 1, 1, 2, 2, 3, 3,
    0, 0, 0, 0, 0, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 0, 3, 3,
    0, 0, 3, 3, 0, 0, 3, 0, 3, 0, 3, 3, 3, 0, 3, 1, 2, 2, 1, 1, 2, 2, 1, 0, 0,
    1, 1, 2, 2, 3, 3, 0, 0, 0, 0, 0, 0, 1, 0, 2, 3, 2, 3, 1, 0, 0, 2, 3, 1, 3,
    2, 1, 0, 1, 0, 3, 2, 2, 3, 0, 1, 0, 0, 2, 0, 3, 1, 2, 3, 0, 1, 3, 1, 0, 2,
    2, 3, 1, 0, 2, 0, 3, 1, 2, 3, 1, 0, 2, 3, 1, 0, 1, 0, 3, 2, 3, 3, 3, 3, 3,
    0, 1, 2, 2, 1, 1, 2, 2, 1, 0, 3, 0, 1, 2, 2, 2, 3, 3, 3, 1, 2, 0, 3, 0, 1,
    2, 3, 2, 3, 1, 0, 1, 2, 2, 1, 2, 3, 1, 0, 1, 0, 3, 2, 0, 0, 2, 1, 0, 3, 3,
    0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 1, 2, 3, 2, 3, 1, 1, 3, 2, 1, 3, 2, 0, 2, 2,
    3, 2, 0, 1, 2, 1, 0, 1, 0, 2, 1, 0, 1, 0, 0, 1, 3, 2, 1, 2, 0, 3, 3, 0, 1,
    2, 1, 2, 2, 1, 3, 3, 3, 3, 3, 3, 3, 1, 0, 2, 1, 0, 0, 1, 3, 3, 0, 3, 3, 1,
    0, 2, 1, 0, 2, 3, 1, 0, 3, 1, 3, 1, 0, 2, 2, 1, 3, 3, 3, 3, 3, 3, 2, 1, 3,
    0, 3, 3, 2, 1, 1, 2, 0, 3, 2, 1, 3, 0, 2, 1, 1, 1, 2, 2, 0, 0, 0, 3, 1, 1,
    1, 1, 1, 2, 3, 0, 2, 1, 3, 0, 2, 0, 1, 1, 0, 1, 1, 3, 2, 2, 3, 3, 2, 2, 3,
    3, 2, 0, 0, 0, 1, 0, 1, 0, 3, 1, 1, 2, 3, 2, 2, 3, 1, 1, 3, 1, 1, 1, 2, 1,
    3, 0, 1, 1, 1, 1, 2, 2, 2, 2, 0, 3, 0, 1, 3, 1, 2, 2, 2, 2, 2, 2, 0, 1, 0,
    3, 3, 1, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3, 0, 0,
    0, 0, 3, 3, 3, 1, 2, 1, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 1, 1, 2,
    1, 3, 0, 1, 3, 0, 1, 2, 2, 3, 2, 1, 0, 1, 2, 1, 2, 1, 2, 0, 3, 2, 1, 0, 3,
    1, 2, 1, 1, 0, 3, 0, 3, 1, 2, 1, 2, 0, 3, 0, 3, 2, 1, 1, 2, 0, 3, 0, 1, 2,
    0, 3, 1, 1, 2, 3, 0, 0, 1, 1, 0, 0, 0, 1, 3, 0, 3, 1, 1, 2, 3, 1, 0, 1, 2,
    1, 2, 2, 1, 1, 2, 2, 1, 0, 1, 2, 0, 0, 0, 1, 2, 3, 1, 1, 3, 2, 1, 3, 0, 2,
    3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 0, 1, 3, 0, 1, 0, 1, 1, 0, 2, 2,
    3, 3, 1, 2, 0, 3, 3, 0, 2, 1, 1, 2, 0, 3, 3, 0, 1, 2, 1, 0, 1, 0, 1, 0, 0,
    1, 0, 1, 1, 0, 1, 0, 1, 0, 2, 3, 2, 3, 2, 3, 3, 2, 1, 2, 2, 1, 1, 2, 2, 1,
    0, 3, 3, 0, 0, 3, 0, 3, 0, 3, 3, 0, 0, 3, 3, 0, 0, 3, 3, 0, 0, 3, 3, 0, 0,
    2, 2, 0, 0, 2, 2, 0, 0, 2, 2, 0, 0, 2, 0, 2, 3, 1, 1, 3, 1, 3, 3, 1, 0, 1,
    2, 2, 1, 0, 3, 2, 2, 3, 1, 0, 1, 0, 2, 3, 2, 3, 2, 3, 3, 2, 3, 0, 3, 0, 2,
    1, 2, 1, 0, 2, 2, 0, 0, 2, 2, 0, 0, 2, 2, 0, 0, 2, 2, 0, 0, 2, 2, 0, 1, 3,
    3, 1, 3, 1, 3, 1, 0, 2, 0, 2, 2, 1, 2, 1, 0, 3, 3, 0, 2, 1, 2, 1, 0, 2, 2,
    0, 2, 1, 1, 1, 1, 1, 1, 0, 3, 3, 0, 0, 3, 3, 0, 2};
char actions[] = {
    'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p',
    'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r',
    'p', 'r', 'p', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'r', 'p',
    'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r',
    'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p',
    'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'p', 'r', 'r', 'p', 'r',
    'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'p', 'r', 'r', 'p',
    'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r',
    'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p',
    'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'p', 'r', 'r',
    'p', 'p', 'r', 'r', 'p', 'p', 'p', 'p', 'r', 'r', 'r', 'r', 'p', 'r', 'p',
    'p', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'r', 'p', 'r', 'p', 'r',
    'r', 'r', 'p', 'p', 'r', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p',
    'p', 'r', 'p', 'r', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'p', 'p', 'p',
    'r', 'r', 'r', 'r', 'p', 'p', 'p', 'p', 'r', 'r', 'r', 'r', 'p', 'p', 'r',
    'r', 'p', 'p', 'p', 'p', 'r', 'p', 'r', 'r', 'p', 'r', 'p', 'p', 'r', 'p',
    'r', 'r', 'p', 'p', 'r', 'p', 'r', 'r', 'r', 'r', 'p', 'p', 'p', 'r', 'p',
    'p', 'r', 'r', 'r', 'r', 'p', 'p', 'p', 'p', 'r', 'r', 'r', 'r', 'p', 'p',
    'p', 'r', 'r', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'p', 'r', 'r', 'p',
    'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'p', 'p', 'r', 'r',
    'r', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'p', 'r', 'r', 'p', 'r', 'p',
    'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r',
    'p', 'r', 'p', 'r', 'p', 'r', 'p', 'p', 'p', 'p', 'r', 'r', 'r', 'r', 'p',
    'r', 'p', 'r', 'p', 'r', 'p', 'p', 'r', 'p', 'r', 'r', 'p', 'r', 'p', 'r',
    'p', 'r', 'p', 'r', 'p', 'p', 'r', 'p', 'r', 'r', 'p', 'r', 'p', 'r', 'p',
    'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'r', 'r',
    'p', 'p', 'r', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p',
    'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r',
    'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p',
    'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r',
    'p', 'r', 'p', 'r', 'p', 'p', 'r', 'p', 'r', 'r', 'p', 'r', 'p', 'r', 'p',
    'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r',
    'p', 'p', 'r', 'r', 'p', 'p', 'r', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p',
    'p', 'r', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r',
    'p', 'r', 'p', 'p', 'p', 'p', 'r', 'r', 'r', 'r', 'p', 'p', 'p', 'p', 'r',
    'r', 'r', 'r', 'p', 'p', 'p', 'p', 'r', 'r', 'r', 'r', 'p', 'r', 'p', 'p',
    'p', 'p', 'r', 'r', 'r', 'r', 'p', 'p', 'p', 'p', 'r', 'r', 'r', 'r', 'p',
    'p', 'p', 'p', 'r', 'r', 'r', 'r', 'p', 'p', 'p', 'p', 'r', 'r', 'r', 'r',
    'p', 'r', 'p', 'r', 'p', 'p', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'r',
    'r', 'p', 'p', 'p', 'r', 'p', 'p', 'r', 'p', 'r', 'r', 'r', 'r', 'p', 'p',
    'p', 'p', 'r', 'r', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'p', 'p', 'r',
    'r', 'r', 'r', 'p', 'r', 'p', 'p', 'p', 'p', 'r', 'r', 'r', 'r', 'p', 'r',
    'p', 'r', 'p', 'r', 'p', 'p', 'p', 'p', 'r', 'r', 'r', 'p', 'p', 'p', 'r',
    'r', 'r', 'r', 'p', 'r', 'p', 'p', 'p', 'p', 'r', 'r', 'r', 'p', 'p', 'p',
    'r', 'r', 'p', 'p', 'r', 'r', 'r', 'r', 'p', 'p', 'p', 'p', 'r', 'r', 'r',
    'r', 'p', 'p', 'r', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'p', 'p', 'p',
    'r', 'r', 'p', 'p', 'r', 'p', 'r', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p',
    'r', 'r', 'p', 'p', 'p', 'r', 'r', 'r', 'r', 'p', 'p', 'p', 'r', 'p', 'r',
    'p', 'r', 'r', 'r', 'p', 'p', 'r', 'p', 'p', 'p', 'r', 'r', 'r', 'r', 'p',
    'p', 'p', 'p', 'r', 'r', 'p', 'r', 'p', 'r', 'r', 'p', 'r', 'r', 'p', 'r',
    'p', 'r', 'p', 'p', 'p', 'p', 'r', 'r', 'r', 'r', 'p', 'p', 'p', 'r', 'r',
    'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p',
    'p', 'r', 'r', 'p', 'r', 'p', 'r', 'p', 'p', 'r', 'p', 'r', 'p', 'r', 'p',
    'p', 'r', 'p', 'r', 'r', 'r', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r',
    'p', 'p', 'r', 'p', 'r', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'p', 'r',
    'p', 'r', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r',
    'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p',
    'p', 'p', 'r', 'r', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'r',
    'p', 'r', 'p', 'r', 'p', 'p', 'p', 'p', 'r', 'r', 'r', 'p', 'r', 'p', 'p',
    'r', 'r', 'p', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'r', 'r', 'p', 'p',
    'p', 'p', 'r', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p',
    'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'r', 'r', 'r', 'p', 'p', 'r', 'p',
    'r', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'p', 'p', 'r', 'r', 'r', 'p', 'r',
    'p', 'r', 'p', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r',
    'r', 'p', 'r', 'p', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'r', 'r', 'p',
    'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'p',
    'p', 'r', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'r', 'p', 'r', 'p', 'p', 'p',
    'p', 'r', 'r', 'r', 'r', 'p', 'p', 'p', 'p', 'r', 'r', 'r', 'r', 'p', 'p',
    'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p',
    'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r',
    'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r',
    'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p',
    'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p',
    'p', 'r', 'r', 'p', 'p', 'p', 'r', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p',
    'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p',
    'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r',
    'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r',
    'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p',
    'r', 'r', 'p', 'p', 'r', 'r', 'p', 'p', 'r', 'p', 'r', 'p', 'r', 'p', 'p',
    'r', 'r', 'p', 'p', 'r', 'r', 'r'};

bool SimpleTimingReader::getInput(long millis_elapsed, int num) 
{
    static int index = 0;
    if (millis_elapsed >= times[index])
    {
        if (actions[index] == 'p')
        {
            inputkeys[keynums[index]] = true;
        }
        else if (actions[index] == 'r')
        {
            inputkeys[keynums[index]] = false;
            releases--;
        }
        index++;
    }

    return inputkeys[num];
}

#include "GLSL.h"
#include "WindowManager.h"
#include <glad/glad.h>

TimingWritingReader::TimingWritingReader() : TimingReader::TimingReader() {
  outfile = fopen("timing.csv", "w");
}

void TimingWritingReader::handleKeyCallback(long millis_elapsed, int key, int action) {
  int i;
  for (i = 0; i < KEY_COUNT; i++) {
    if (key == (GLFW_KEY_1 + i) && action == GLFW_PRESS) {
      inputkeys[i] = true;
      fprintf(outfile, "%ld, %d, %c\n", millis_elapsed, i, 'p');
    } else if (key == (GLFW_KEY_1 + i) && action == GLFW_RELEASE) {
      inputkeys[i] = false;
      releases--;
      fprintf(outfile, "%ld, %d, %c\n", millis_elapsed, i, 'r');
    }
  }
}

bool TimingWritingReader::getInput(long millis_elapsed, int num) {
  return inputkeys[num];
}
